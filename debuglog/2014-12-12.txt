-----------------------------------------------------------
读取2048字节 chunk 1024 = block 4 page 0 off 0
MiniShell>nand r 4 0 0 32000000 


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000010:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000020:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000030:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000040:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000050:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000060:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000070:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000080:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000090:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000100:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000110:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000120:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 

00000200:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000210:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000220:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000230:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000240:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000250:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000260:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000270:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000280:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000290:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000002a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000002b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000002c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000002d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000002e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000002f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000300:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000310:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000320:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000330:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000340:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000350:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000360:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000370:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000380:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000390:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000003a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000003b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000003c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000003d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000003e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000003f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 

00000400:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000410:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000420:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000430:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000440:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000450:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000460:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000470:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000480:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000490:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000004a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000004b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000004c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000004d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000004e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000004f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000500:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000510:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000520:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000530:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000540:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000550:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000560:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000570:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000580:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000590:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000005a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000005b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000005c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000005d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000005e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000005f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 

00000600:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000610:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000620:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000630:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000640:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000650:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000660:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000670:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000680:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000690:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000006a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000006b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000006c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000006d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000006e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000006f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000700:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000710:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000720:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000730:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000740:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000750:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000760:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000770:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000780:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000790:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000007a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000007b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000007c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000007d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000007e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000007f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
MiniShell>nand r 4 0 1 32000000




MiniShell>mkdir /boot/dir1
mkdir /boot/dir1
dfdfdf
        Call yaffs_FindObjectByName
        Call yaffs_CreateNewObject()
        Aft Call yaffs_CreateNewObject()
        Call yaffs_UpdateObjectHeader()
         if(!in->fake || force)
        Call yaffs_CheckGarbageCollection()
Call yaffs_WriteNewChunkWithTagsToNAND()
Ret yaffs_SpareInitialise()
Ret yaffs_WriteNewChunkToNAND()
Call yaffs_AllocateChunk()
Call yaffs_CheckChunkErased()
nand_flash_read_buf()
        read chunkid 1024 block 4 page 0 sector 0 d 30024300 s 30024500
printk Check


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000010:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000020:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000030:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000040:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000050:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000060:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000070:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000080:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000090:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000100:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000110:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000120:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
end





------------------------------------------------------------
找到问题根源了，编译器貌似不能识别static int cmpbuf，无论是静态还是全局
//********************************************************************
	static __u8 cmpbuf[YAFFS_BYTES_PER_CHUNK];
	if(!init)
	{
		memset(cmpbuf,0xff,YAFFS_BYTES_PER_CHUNK);
		init = 1;
	}
	printk("printk Check init %d cmpbuf %8.8x data %8.8x spare %8.8x\n",init,cmpbuf,data,spare);
	PrintByte(cmpbuf,512);
	PrintByte(data,512);
	PrintByte(spare,16);
	printk("end\n");
//>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
MiniShell>mkdir /boot/dir1
mkdir /boot/dir1
dfdfdf
        Call yaffs_FindObjectByName
        Call yaffs_CreateNewObject()
        Aft Call yaffs_CreateNewObject()
        Call yaffs_UpdateObjectHeader()
         if(!in->fake || force)
        Call yaffs_CheckGarbageCollection()
Call yaffs_WriteNewChunkWithTagsToNAND()
Ret yaffs_SpareInitialise()
Ret yaffs_WriteNewChunkToNAND()
Call yaffs_AllocateChunk()
Call yaffs_CheckChunkErased()
nand_flash_read_buf()
        read chunkid 1024 block 4 page 0 sector 0 d 300243b0 s 300245b0
printk Check init 538976288 cmpbuf 300241b0 data 300243b0 spare 300245b0


00000000:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000010:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000020:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000030:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000040:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000050:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000060:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000070:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000080:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000090:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000000a0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000000b0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000000c0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000000d0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000000e0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000000f0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000100:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000110:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000120:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000130:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000140:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000150:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000160:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000170:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000180:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000190:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000001a0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000001b0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000001c0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000001d0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000001e0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000001f0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000010:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000020:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000030:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000040:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000050:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000060:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000070:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000080:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000090:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000100:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000110:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000120:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
end
memcmp cs 300241b0


00000000:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000010:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000020:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000030:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000040:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000050:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000060:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000070:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000080:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000090:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000000a0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000000b0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000000c0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000000d0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000000e0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000000f0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000100:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000110:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000120:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000130:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000140:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000150:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000160:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000170:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000180:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
00000190:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000001a0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000001b0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000001c0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000001d0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000001e0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
000001f0:  20 20 20 20 20 20 20 20  20 20 20 20 20 20 20 20 
memcmp ct 300243b0


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000010:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000020:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000030:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000040:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000050:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000060:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000070:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000080:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000090:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000100:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000110:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000120:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
**>> yaffs chunk 1024 was not erased
Call yaffs_HandleWriteChunkError()
nand_flash_read_buf()
        read chunkid 1024 block 4 page 0 sector 0 d 33fff40c s 00000000
nand_flash_program_buf()        write chunkid 1024 block 4 page 0 sector 0 d 33fff40c s 33fff65c






----------------------------------------------------
将// if(!init)这行注释掉一切OK
需要回顾一下bss段是什么
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
MiniShell>mkdir /boot/dir1
mkdir /boot/dir1
dfdfdf
        Call yaffs_FindObjectByName
        Call yaffs_CreateNewObject()
        Aft Call yaffs_CreateNewObject()
        Call yaffs_UpdateObjectHeader()
         if(!in->fake || force)
        Call yaffs_CheckGarbageCollection()
Call yaffs_WriteNewChunkWithTagsToNAND()
Ret yaffs_SpareInitialise()
Ret yaffs_WriteNewChunkToNAND()
Call yaffs_AllocateChunk()
Call yaffs_CheckChunkErased()
nand_flash_read_buf()
        read chunkid 1024 block 4 page 0 sector 0 d 300243b4 s 300245b4
printk Check init 805454256 &init 00000001 cmpbuf 300241b4 data 300243b4 spare 300245b4


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000010:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000020:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000030:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000040:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000050:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000060:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000070:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000080:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000090:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000100:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000110:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000120:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000010:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000020:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000030:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000040:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000050:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000060:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000070:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000080:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000090:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000100:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000110:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000120:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
end
memcmp cs 300241b4


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000010:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000020:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000030:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000040:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000050:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000060:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000070:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000080:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000090:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000100:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000110:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000120:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
memcmp ct 300243b4


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000010:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000020:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000030:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000040:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000050:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000060:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000070:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000080:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000090:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000100:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000110:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000120:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
memcmp cs 300241b4


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
memcmp ct 300245b4


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
Call yaffs_WriteChunkToNAND()
nand_flash_program_buf()        write chunkid 1024 block 4 page 0 sector 0 d 33fffb48 s 33fff8f0


00000000:  03 00 00 00 01 00 00 00  ff ff 64 69 72 31 00 00 
00000010:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000020:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000030:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000040:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000050:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000060:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000070:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000080:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000090:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000a0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000b0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000c0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000d0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000e0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000f0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000100:  00 00 00 00 00 00 00 00  00 00 ff ff 00 00 00 00 
00000110:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000120:  00 00 00 00 ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff 00 00 00 00 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 


00000000:  00 00 d0 ff ff ff 21 01  a5 aa 57 cc c1 ff ff ff 
Call yaffs_ReadChunkFromNAND()
nand_flash_read_buf()
        read chunkid 1024 block 4 page 0 sector 0 d 33fff6c0 s 33fff6b0
Call yaffs_VerifyCompare()
memcmp cs 33fffb48


00000000:  03 00 00 00 01 00 00 00  ff ff 64 69 72 31 00 00 
00000010:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000020:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000030:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000040:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000050:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000060:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000070:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000080:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000090:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000a0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000b0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000c0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000d0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000e0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000f0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000100:  00 00 00 00 00 00 00 00  00 00 ff ff 00 00 00 00 
00000110:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000120:  00 00 00 00 ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff 00 00 00 00 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
memcmp ct 33fff6c0


00000000:  03 00 00 00 01 00 00 00  ff ff 64 69 72 31 00 00 
00000010:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000020:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000030:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000040:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000050:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000060:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000070:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000080:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000090:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000a0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000b0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000c0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000d0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000e0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000f0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000100:  00 00 00 00 00 00 00 00  00 00 ff ff 00 00 00 00 
00000110:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000120:  00 00 00 00 ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff 00 00 00 00 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
Call yaffs_HandleWriteChunkOk()
chunk 1024 writeOk? 1
Aft yaffs_WriteNewChunkWithTagsToNAND()



------------------------------------------
//question 15:00
MiniShell里输入ls返回ls: command not found，判断到底是测试Yaffs是否被优化导致不能运行，还是MiniShell被优化不能运行。
能成功建立abcd文件夹，Yaffs里也能调用printk打印。
所以问题根源在MiniShell的优化
******************************************
//code
    yaffs_StartUp();
    yaffs_mount("/boot");
    yaffs_mkdir("/boot/abcd");
    ListDir("/boot");
    
    sh_enter();
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
//output
nand_read()
        read Addr 00f00200
        Call yaffs_FindObjectByName
        Call yaffs_CreateNewObject()
        Aft Call yaffs_CreateNewObject()
        Call yaffs_UpdateObjectHeader()
         if(!in->fake || force)
        Call yaffs_CheckGarbageCollection()
Call yaffs_WriteNewChunkWithTagsToNAND()
Ret yaffs_SpareInitialise()
Ret yaffs_WriteNewChunkToNAND()
Call yaffs_AllocateChunk()
Call yaffs_CheckChunkErased()
nand_flash_read_buf()
        read chunkid 1037 block 4 page 3 sector 1 d 3002066c s 3002086c
nand_read()
        read Addr 00103210
nand_read()
        read Addr 00103410
printk Check init 805438568 &init 00000001 cmpbuf 3002046c data 3002066c spare 3002086c


00000000:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000010:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000020:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000030:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000040:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000050:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000060:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000070:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000080:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000090:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000000f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000100:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000110:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000120:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
end
Call yaffs_WriteChunkToNAND()
nand_flash_program_buf()        write chunkid 1037 block 4 page 3 sector 1 d 33fffd80 s 33fffb4c
nand_write()
        write Addr 00103210


00000000:  03 00 00 00 01 00 00 00  ff ff 61 62 63 64 00 00 
00000010:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000020:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000030:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000040:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000050:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000060:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000070:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000080:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000090:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000a0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000b0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000c0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000d0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000e0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
000000f0:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000100:  00 00 00 00 00 00 00 00  00 00 ff ff f0 f9 00 30 
00000110:  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 
00000120:  00 00 00 00 ff ff ff ff  ff ff ff ff ff ff ff ff 
00000130:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000140:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000150:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000160:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000170:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000180:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
00000190:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001a0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001b0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001c0:  ff ff ff ff ff ff ff ff  ff ff ff ff 00 00 00 00 
000001d0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001e0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
000001f0:  ff ff ff ff ff ff ff ff  ff ff ff ff ff ff ff ff 
nand_write()
        write Addr 00103410


00000000:  00 00 d0 ff ff ff 03 01  3f ff c3 dc c1 ff ff cf 
Call yaffs_ReadChunkFromNAND()
nand_flash_read_buf()
        read chunkid 1037 block 4 page 3 sector 1 d 33fff928 s 33fff918
nand_read()
        read Addr 00103210
nand_read()
        read Addr 00103410
Call yaffs_VerifyCompare()
Call yaffs_HandleWriteChunkOk()
chunk 1037 writeOk? 1
Aft yaffs_WriteNewChunkWithTagsToNAND()
nand_flash_read_buf()
        read chunkid 1037 block 4 page 3 sector 1 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00103210
nand_read()
        read Addr 00103410
abcd                     
nand_flash_read_buf()
        read chunkid 1036 block 4 page 3 sector 0 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00103000
nand_read()
        read Addr 00103200
wml2                     
nand_flash_read_buf()
        read chunkid 1035 block 4 page 2 sector 3 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00102630
nand_read()
        read Addr 00102830
wml1                     
nand_flash_read_buf()
        read chunkid 1034 block 4 page 2 sector 2 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00102420
nand_read()
        read Addr 00102620
lwk                      
nand_flash_read_buf()
        read chunkid 1033 block 4 page 2 sector 1 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00102210
nand_read()
        read Addr 00102410
                         
nand_flash_read_buf()
        read chunkid 1032 block 4 page 2 sector 0 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00102000
nand_read()
        read Addr 00102200
f3                       
nand_flash_read_buf()
        read chunkid 1031 block 4 page 1 sector 3 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00101630
nand_read()
        read Addr 00101830
boot                     
nand_flash_read_buf()
        read chunkid 1030 block 4 page 1 sector 2 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00101420
nand_read()
        read Addr 00101620
f2                       
nand_flash_read_buf()
        read chunkid 1029 block 4 page 1 sector 1 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00101210
nand_read()
        read Addr 00101410
jl                       
nand_flash_read_buf()
        read chunkid 1028 block 4 page 1 sector 0 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00101000
nand_read()
        read Addr 00101200
d1                       
nand_flash_read_buf()
        read chunkid 1027 block 4 page 0 sector 3 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00100630
nand_read()
        read Addr 00100830
dirlk                    
nand_flash_read_buf()
        read chunkid 1026 block 4 page 0 sector 2 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00100420
nand_read()
        read Addr 00100620
dir3                     
nand_flash_read_buf()
        read chunkid 1025 block 4 page 0 sector 1 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00100210
nand_read()
        read Addr 00100410
dir2                     
nand_flash_read_buf()
        read chunkid 1024 block 4 page 0 sector 0 d 33fffc70 s 33fffc38
nand_read()
        read Addr 00100000
nand_read()
        read Addr 00100200
dir1                     
lost+found               
FreeSpace: 6677504

MiniShell>




------------------------------------------
//question
readelf查看__w_boot_cmd_start和__w_boot_cmd_end的内容
******************************************
//code

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
//output
-O3选项编译输出，-O1选项第5列也是7
root@fnc:yaffs1# readelf -s release/download.elf | grep __w
   349: 3000d6ba     0 NOTYPE  GLOBAL DEFAULT  ABS __w_boot_cmd_start
   366: 3000d6e0    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_rfile
   375: 3000d71c    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_copyboot
   388: 3000d710    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_nand
   410: 3000d6d4    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_wfile
   423: 3000d6f8    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_mkdir
   453: 3000d6bc    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_hostname
   465: 3000d704    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_ls
   467: 3000d728     0 NOTYPE  GLOBAL DEFAULT  ABS __w_boot_cmd_end
   499: 3000d6c8    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_help
   505: 3000d6ec    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_mount

无优化编译
root@fnc:yaffs1# readelf -s release/download.elf | grep __w
   430: 3001144c     0 NOTYPE  GLOBAL DEFAULT  ABS __w_boot_cmd_start
   447: 30011488    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_rfile
   456: 300114a0    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_copyboot
   469: 300114ac    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_nand
   491: 30011494    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_wfile
   504: 30011470    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_mkdir
   534: 30011458    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_hostname
   546: 30011464    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_ls
   548: 300114b8     0 NOTYPE  GLOBAL DEFAULT  ABS __w_boot_cmd_end
   580: 3001144c    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_help
   586: 3001147c    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_mount




------------------------------------------
//question
shell命令顺序
******************************************
//code

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
//output
无优化选项
MiniShell>lsldk
  30011514 null
abc
ddf
  30011514 null
  30011520 help
  3001152c hostname
  null          shell help
  help          shell help
  hostname      set hostname
  ls          
  mkdir       
  mount         dfdf
  rfile         dfdf
  wfile         dfdf
  copyboot      copy boot to Nand start address
  nand          nand option

root@fnc:yaffs1# readelf -s release/download.elf | grep __w
   430: 30011514     0 NOTYPE  GLOBAL DEFAULT  ABS __w_boot_cmd_start    <-----1 地址一样 差值是   0
   447: 3001155c    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_rfile
   456: 30011574    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_copyboot
   469: 30011580    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_nand
   471: 30011514    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_null     <-----1

   492: 30011568    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_wfile
   505: 30011544    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_mkdir
   535: 3001152c    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_hostname
   547: 30011538    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_ls
   549: 3001158c     0 NOTYPE  GLOBAL DEFAULT  ABS __w_boot_cmd_end
   581: 30011520    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_help
   587: 30011550    12 OBJECT  GLOBAL DEFAULT    6 __w_boot_cmd_mount


-O3选项
MiniShell>df
  3000d622 
abc
ddf
  3000d63c null
  3000d648 wfile
  3000d654 rfile
  .....后面的被卡死了

root@fnc:yaffs1# readelf -s release/download.elf | grep __w
   349: 3000d622     0 NOTYPE  GLOBAL DEFAULT  ABS __w_boot_cmd_start     <-----1 地址不一样差值是   26
   366: 3000d654    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_rfile
   375: 3000d690    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_copyboot
   388: 3000d684    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_nand
   390: 3000d63c    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_null      <-----1   

   411: 3000d648    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_wfile
   424: 3000d66c    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_mkdir
   454: 3000d624    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_hostname
   466: 3000d678    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_ls
   468: 3000d69c     0 NOTYPE  GLOBAL DEFAULT  ABS __w_boot_cmd_end
   500: 3000d630    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_help
   506: 3000d660    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_mount


------------------------------------------
//question
lds文件里修改，貌似解决了问题，保证代码对齐，虽然__w_boot_cmd_start依旧不和__w_boot_cmd_null同地址，但它们地址之间差值是12的倍数（struct cmd_table就是12字节），
******************************************
//code

    原始
    __u_boot_cmd_start = .;
    .u_boot_cmd : { *(.u_boot_cmd) }
    __u_boot_cmd_end = .;


    
    __w_boot_cmd_start = .;
    .w_boot_cmd : { *(.w_boot_cmd) }
    __w_boot_cmd_end = .;
    __w_boot_cmd_null和__w_boot_cmd_start差值是    --------26-----------

    改成
    . = ALIGN(4);
    __u_boot_cmd_start = .;
    .u_boot_cmd : { *(.u_boot_cmd) }
    __u_boot_cmd_end = .;


    . = ALIGN(4);
    __w_boot_cmd_start = .;
    .w_boot_cmd : { *(.w_boot_cmd) }
    __w_boot_cmd_end = .;


    __w_boot_cmd_null和__w_boot_cmd_start差值是    --------24-----------
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
root@fnc:yaffs1# readelf -s release/download.elf | grep __w
   349: 3000d624     0 NOTYPE  GLOBAL DEFAULT  ABS __w_boot_cmd_start          <-----1 地址不一样差值是   24
   366: 3000d654    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_rfile
   375: 3000d690    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_copyboot
   388: 3000d684    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_nand
   390: 3000d63c    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_null          <-----1 地址不一样差值是
   411: 3000d648    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_wfile
   424: 3000d66c    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_mkdir
   454: 3000d624    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_hostname       <-----1 地址和start一样
   466: 3000d678    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_ls
   468: 3000d69c     0 NOTYPE  GLOBAL DEFAULT  ABS __w_boot_cmd_end
   500: 3000d630    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_help
   506: 3000d660    12 OBJECT  GLOBAL DEFAULT    7 __w_boot_cmd_mount
root@fnc:yaffs1# 